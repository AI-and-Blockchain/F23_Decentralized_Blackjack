
# Python Backend and Integration
## Setup
### OPM and Data Generation
First generate the optimal probability matrix (OPM) by running `py datasets/probability_matrix_generator.py`.
Once the OPM is generated, the training and testing data can be generated by running `py datasets/data_generator.py`.

### Training Model(s)
To train the AI models, run `py trainer.py`.

### Starting Server
Run `py server.py` to start the server, GET endpoint, and ngrok tunneling.
Run `py contract_interface.py` to start backend and game state fetching.

## ENDPOINTS
### /get_optimal_action
Returns JSON `{'optimal_action': <action>}` where action is one of the following:
* 'Hit'
* 'Stand'
* 'Double'
* 'Split'
* 'Surrender'

This value is determined by current game state (actively scraped from smart contract `blackjack.sol`) and the optimal probability matrix generated beforehand.